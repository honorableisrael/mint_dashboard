{"ast":null,"code":"import _asyncToGenerator from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import{Alert}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import Connector from\"../../Services/services\";import{useDispatch,useSelector}from\"react-redux\";import{dashboardActions}from\"../../../Actions\";import{reloadPage}from\"../../Services/helper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Signup_Admin=function Signup_Admin(props){var _all_organisation;var _useState=useState({email:\"\",password:\"\",first_name:\"\",last_name:\"\",phone_number:\"\",isloading:false,first:true,second:false,errorMessage:\"\",organization_name:\"\",address:\"\",business_country:\"\",warehouse_name:\"\",business_state:\"\",success:\"\",industry:\"\",website:\"\",organization_id:\"\",open:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var email=state.email,password=state.password,first_name=state.first_name,last_name=state.last_name,organization_name=state.organization_name,errorMessage=state.errorMessage,phone_number=state.phone_number,open=state.open,isloading=state.isloading,first=state.first,organization_id=state.organization_id,success=state.success;var validateForm=function validateForm(e){e.preventDefault();if(!email||!last_name||!first_name||!phone_number||!password||!organization_id){return setState(_objectSpread(_objectSpread({},state),{},{errorMessage:\"Please fill required fields\"}));}submitForm();};var submitForm=function submitForm(){setState(_objectSpread(_objectSpread({},state),{},{isloading:true}));var data={first_name:first_name,last_name:last_name,password:password,password_confirmation:password,email:email,phone_number:phone_number,organization_name:organization_name,organization_id:organization_id};Connector.post(\"/admin/register\",data).then(function(res){console.log(res);window.scrollTo(0,0);setState(_objectSpread(_objectSpread({},state),{},{isloading:false,success:\"Successfully registered, your account would be activated within the next 24hrs\"}));reloadPage();}).catch(function(err){var _err$response,_err$response$data;setState(_objectSpread(_objectSpread({},state),{},{isloading:false,errorMessage:err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error}));window.scrollTo(0,0);});};var onchange=function onchange(e){var _objectSpread2;console.log(e.target.value);setState(_objectSpread(_objectSpread({},state),{},(_objectSpread2={},_defineProperty(_objectSpread2,e.target.name,e.target.value),_defineProperty(_objectSpread2,\"errorMessage\",\"\"),_objectSpread2)));};var all_organisation=[];all_organisation=useSelector(function(state){var _state$dashboardStats;return(_state$dashboardStats=state.dashboardStats)===null||_state$dashboardStats===void 0?void 0:_state$dashboardStats.all_organisation;});var dispatch=useDispatch();useEffect(function(){var loadDashboardStats=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(dashboardActions.getAllOrganisation());case 2:case\"end\":return _context.stop();}}},_callee);}));return function loadDashboardStats(){return _ref.apply(this,arguments);};}();loadDashboardStats();},[dispatch]);console.log(all_organisation);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid lgwrap lgwra2p\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 loginformbody signup8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ft3\",children:\"Admin Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form-wrapper\",onSubmit:validateForm,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"signinalertmssg\",children:/*#__PURE__*/_jsx(Alert,{variant:\"text-danger\",className:\"text-danger\",children:errorMessage})}),success&&/*#__PURE__*/_jsx(\"div\",{className:\"signinalertmssg\",children:/*#__PURE__*/_jsx(Alert,{variant:\"success\",className:\"text-success\",children:success})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"padded-signin-wrapper\",children:[first&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row inputlabel justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 rdfrmlbl2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"rdfrmlbl\",children:[\" \",\"First Name \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"first_name\",value:first_name,onChange:onchange,placeholder:\"Enter your First Name\",size:60,className:\"form-control forminput\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 rdfrmlbl2right\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"rdfrmlbl\",children:[\" \",\"Last Name \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"}),\" \"]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"last_name\",value:last_name,onChange:onchange,placeholder:\"Enter your First Name\",size:60,className:\"form-control forminput\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inputlabel\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"rdfrmlbl\",children:[\"Email Address \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:email,onChange:onchange,placeholder:\"Enter your email\",size:60,className:\"form-control forminput\"})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inputlabel\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"rdfrmlbl\",children:[\"Phone \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone_number\",value:phone_number,onChange:onchange,placeholder:\"Enter your phone\",size:60,className:\"form-control forminput\"})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"\",className:\"inputlabel\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"rdfrmlbl\",children:\" Organisation\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"}),/*#__PURE__*/_jsxs(\"select\",{onChange:onchange,className:\"form-control forminput\",name:\"organization_id\",children:[/*#__PURE__*/_jsx(\"option\",{}),(_all_organisation=all_organisation)===null||_all_organisation===void 0?void 0:_all_organisation.map(function(data,i){return/*#__PURE__*/_jsx(\"option\",{value:data===null||data===void 0?void 0:data.id,children:data===null||data===void 0?void 0:data.name},i);})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inputlabel\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"rdfrmlbl\",children:[\"Password \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:open?\"text\":\"password\",name:\"password\",value:password,onChange:onchange,placeholder:\"Enter your Password\",size:60,className:\"form-control forminput\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-righ\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){setState(_objectSpread(_objectSpread({},state),{},{open:open?false:true}));},children:\"\\uD83D\\uDC41\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"forgotpassword font-200 text-dark\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"agreement\",className:\"check_12\",id:\"\"}),\"Creating an account means you\\u2019re okay with our Terms of Service, Privacy Policy, and our default Notification Settings.\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-btn-wrapper loginbtdv\",children:first&&/*#__PURE__*/_jsx(\"input\",{className:\"signinbtn\",type:\"button\",onClick:validateForm,value:isloading?\"Signing up...\":\"Submit\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"signuprgqt\",children:[\" \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Have an account? Login \"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"signuprgqt1\",children:\"\\xA9 Farmcrowdy\"})]})]})]})})})});};export default Signup_Admin;","map":{"version":3,"sources":["/Users/frontenddev/Documents/FC INVENTORY/src/Components/views/auth/Signup_admin.tsx"],"names":["React","useState","useEffect","Alert","Link","Connector","useDispatch","useSelector","dashboardActions","reloadPage","Signup_Admin","props","email","password","first_name","last_name","phone_number","isloading","first","second","errorMessage","organization_name","address","business_country","warehouse_name","business_state","success","industry","website","organization_id","open","state","setState","validateForm","e","preventDefault","submitForm","data","password_confirmation","post","then","res","console","log","window","scrollTo","catch","err","response","error","onchange","target","value","name","all_organisation","dashboardStats","dispatch","loadDashboardStats","getAllOrganisation","map","i","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Alert } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport Connector from \"../../Services/services\";\nimport fclogo from \"../../../assets/fclogo.svg\";\nimport { allCountries, all_states } from \"../../../country\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { dashboardActions } from \"../../../Actions\";\nimport { notify } from \"../../../config\";\nimport { reloadPage } from \"../../Services/helper\";\n\nconst Signup_Admin = (props) => {\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    phone_number: \"\",\n    isloading: false,\n    first: true,\n    second: false,\n    errorMessage: \"\",\n    organization_name: \"\",\n    address: \"\",\n    business_country: \"\",\n    warehouse_name: \"\",\n    business_state: \"\",\n    success: \"\",\n    industry: \"\",\n    website: \"\",\n    organization_id: \"\",\n    open: false,\n  });\n  const {\n    email,\n    password,\n    first_name,\n    last_name,\n    organization_name,\n    errorMessage,\n    phone_number,\n    open,\n    isloading,\n    first,\n    organization_id,\n    success,\n  } = state;\n  const validateForm = (e) => {\n    e.preventDefault();\n    if (\n      !email ||\n      !last_name ||\n      !first_name ||\n      !phone_number ||\n      !password ||\n      !organization_id\n    ) {\n      return setState({\n        ...state,\n        errorMessage: \"Please fill required fields\",\n      });\n    }\n    submitForm();\n  };\n  const submitForm = () => {\n    setState({\n      ...state,\n      isloading: true,\n    });\n    const data = {\n      first_name,\n      last_name,\n      password,\n      password_confirmation: password,\n      email,\n      phone_number,\n      organization_name,\n      organization_id,\n    };\n    Connector.post(`/admin/register`, data)\n      .then((res) => {\n        console.log(res);\n        window.scrollTo(0, 0);\n        setState({\n          ...state,\n          isloading: false,\n          success:\n            \"Successfully registered, your account would be activated within the next 24hrs\",\n        });\n        reloadPage()\n      })\n      .catch((err) => {\n        setState({\n          ...state,\n          isloading: false,\n          errorMessage: err?.response?.data?.error,\n        });\n        window.scrollTo(0, 0);\n      });\n  };\n  const onchange = (e) => {\n    console.log(e.target.value);\n    setState({\n      ...state,\n      [e.target.name]: e.target.value,\n      errorMessage: \"\",\n    });\n  };\n  let all_organisation: any = [];\n  all_organisation = useSelector(\n    (state: any) => state.dashboardStats?.all_organisation\n  );\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const loadDashboardStats = async () => {\n      await dispatch(dashboardActions.getAllOrganisation());\n    };\n    loadDashboardStats();\n  }, [dispatch]);\n  console.log(all_organisation);\n  return (\n    <>\n      <div className=\"container-fluid lgwrap lgwra2p\">\n        <div className=\"row justify-center\">\n          <div className=\"col-md-6 loginformbody signup8\">\n            <div className=\"ft3\">Admin Sign Up</div>\n            <form className=\"form-wrapper\" onSubmit={validateForm}>\n              <div className=\"form-header\">\n                {errorMessage && (\n                  <div className=\"signinalertmssg\">\n                    <Alert variant={\"text-danger\"} className=\"text-danger\">\n                      {errorMessage}\n                    </Alert>\n                  </div>\n                )}\n                {success && (\n                  <div className=\"signinalertmssg\">\n                    <Alert variant={\"success\"} className=\"text-success\">\n                      {success}\n                    </Alert>\n                  </div>\n                )}\n              </div>\n              <div className=\"padded-signin-wrapper\">\n                {first && (\n                  <>\n                    <div className=\"row inputlabel justify-between\">\n                      <div className=\"col-md-6 rdfrmlbl2\">\n                        <span className=\"rdfrmlbl\">\n                          {\" \"}\n                          First Name <span className=\"text-danger\">*</span>{\" \"}\n                        </span>\n                        <input\n                          type=\"text\"\n                          name=\"first_name\"\n                          value={first_name}\n                          onChange={onchange}\n                          placeholder=\"Enter your First Name\"\n                          size={60}\n                          className=\"form-control forminput\"\n                        />\n                      </div>\n                      <div className=\"col-md-6 rdfrmlbl2right\">\n                        <span className=\"rdfrmlbl\">\n                          {\" \"}\n                          Last Name <span className=\"text-danger\">*</span>{\" \"}\n                        </span>\n                        <input\n                          type=\"text\"\n                          name=\"last_name\"\n                          value={last_name}\n                          onChange={onchange}\n                          placeholder=\"Enter your First Name\"\n                          size={60}\n                          className=\"form-control forminput\"\n                        />\n                      </div>\n                    </div>\n                    <label className=\"inputlabel\">\n                      <span className=\"rdfrmlbl\">\n                        Email Address <span className=\"text-danger\">*</span>\n                      </span>\n                      <input\n                        type=\"text\"\n                        name=\"email\"\n                        value={email}\n                        onChange={onchange}\n                        placeholder=\"Enter your email\"\n                        size={60}\n                        className=\"form-control forminput\"\n                      />\n                    </label>\n                    <label className=\"inputlabel\">\n                      <span className=\"rdfrmlbl\">\n                        Phone <span className=\"text-danger\">*</span>\n                      </span>\n                      <input\n                        type=\"text\"\n                        name=\"phone_number\"\n                        value={phone_number}\n                        onChange={onchange}\n                        placeholder=\"Enter your phone\"\n                        size={60}\n                        className=\"form-control forminput\"\n                      />\n                    </label>\n                    <label htmlFor=\"\" className=\"inputlabel\">\n                      <span className=\"rdfrmlbl\"> Organisation</span>\n                      <span className=\"text-danger\">*</span>\n                      <select\n                        onChange={onchange}\n                        className=\"form-control forminput\"\n                        name=\"organization_id\"\n                      >\n                        <option></option>\n                        {all_organisation?.map((data, i) => (\n                          <option value={data?.id} key={i}>\n                            {data?.name}\n                          </option>\n                        ))}\n                      </select>\n                    </label>\n                    <label className=\"inputlabel\">\n                      <span className=\"rdfrmlbl\">\n                        Password <span className=\"text-danger\">*</span>\n                      </span>\n                      <input\n                        type={open ? \"text\" : \"password\"}\n                        name=\"password\"\n                        value={password}\n                        onChange={onchange}\n                        placeholder=\"Enter your Password\"\n                        size={60}\n                        className=\"form-control forminput\"\n                      />\n                    </label>\n                    <div className=\"text-righ\">\n                      {\" \"}\n                      <span\n                        onClick={() => {\n                          setState({\n                            ...state,\n                            open: open ? false : true,\n                          });\n                        }}\n                      >\n                        &#128065;\n                      </span>\n                    </div>\n                    <div className=\"forgotpassword font-200 text-dark\">\n                      <input\n                        type=\"checkbox\"\n                        name=\"agreement\"\n                        className=\"check_12\"\n                        id=\"\"\n                      />\n                      Creating an account means you’re okay with our Terms of\n                      Service, Privacy Policy, and our default Notification\n                      Settings.\n                    </div>\n                  </>\n                )}\n\n                <div className=\"form-btn-wrapper loginbtdv\">\n                  {/* {first && (\n                    <input\n                      className=\"signinbtn\"\n                      type=\"button\"\n                      onClick={validateForm}\n                      value={isloading ? \"Signing up...\" : \"Continue\"}\n                    />\n                  )} */}\n                  {first && (\n                    <input\n                      className=\"signinbtn\"\n                      type=\"button\"\n                      onClick={validateForm}\n                      value={isloading ? \"Signing up...\" : \"Submit\"}\n                    />\n                  )}\n                </div>\n\n                <p className=\"signuprgqt\">\n                  {\" \"}\n                  <Link to=\"/login\">Have an account? Login </Link>\n                </p>\n\n                <p className=\"signuprgqt1\">© Farmcrowdy</p>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default Signup_Admin;\n"]},"metadata":{},"sourceType":"module"}
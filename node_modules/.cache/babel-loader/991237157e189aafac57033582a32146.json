{"ast":null,"code":"import _defineProperty from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _asyncToGenerator from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import{Button,Modal,Pagination,Table}from\"react-bootstrap\";import{Link}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import\"./index.css\";import{dashboardActions}from\"../../../../Actions\";import{decimalize,getAdminUtils}from\"../../../Services/helper\";import TableDropdownProducts from\"./Dropdown/TableDropdownProducts\";import{FormatAmount,notify}from\"../../../../config\";import Finance_Stats from\"./DashboardComponents/FInance_Stats\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AdminFinance=function AdminFinance(){var _wallet,_wallet$data,_wallet2,_wallet2$data,_wallet3,_wallet4;var dispatch=useDispatch();var wallet=true;wallet=useSelector(function(state){var _state$dashboardStats;return(_state$dashboardStats=state.dashboardStats)===null||_state$dashboardStats===void 0?void 0:_state$dashboardStats.wallet;});useEffect(function(){var getDashboardProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _getAdminUtils,_getAdminUtils$;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(((_getAdminUtils=getAdminUtils(\"admin_data\"))===null||_getAdminUtils===void 0?void 0:(_getAdminUtils$=_getAdminUtils[0])===null||_getAdminUtils$===void 0?void 0:_getAdminUtils$.role_name)==\"admin\")){_context.next=3;break;}_context.next=3;return dispatch(dashboardActions.getWalletDetails(\"/admin/get-vfd-account\"));case 3:case\"end\":return _context.stop();}}},_callee);}));return function getDashboardProducts(){return _ref.apply(this,arguments);};}();getDashboardProducts();},[dispatch]);var changepagenumber=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(x){var newarray;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!x){_context2.next=7;break;}newarray=x.split(\"/api/v1\");console.log(newarray[1]);_context2.next=5;return dispatch(dashboardActions.getWalletDetails(newarray[1]));case 5:_context2.next=8;break;case 7:notify(\"page not available\");case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function changepagenumber(_x){return _ref2.apply(this,arguments);};}();var _useState=useState({search:\"\",bvn:\"\",isloading:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),show=_useState4[0],setShow=_useState4[1];var search_filter=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return dispatch(dashboardActions.getDashboardProducts(\"/admin/filter-product?name=\".concat(state.search)));case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function search_filter(){return _ref3.apply(this,arguments);};}();var onchange=function onchange(e){setState(_objectSpread(_objectSpread({},state),{},_defineProperty({},e.target.name,e.target.value)));};var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};var submit_wallet=function submit_wallet(){setState(_objectSpread(_objectSpread({},state),{},{isloading:true}));var data={bvn:state.bvn};dispatch(dashboardActions.createWallet(data));setTimeout(function(){setState(_objectSpread(_objectSpread({},state),{},{isloading:false}));},7000);};useEffect(function(){if(wallet){handleClose();}},[wallet]);useEffect(function(){if(wallet==undefined){handleShow();}},[dispatch]);console.log(wallet==undefined);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"contaniner-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard_main_area hm-0 pb-0 row\",children:[/*#__PURE__*/_jsx(Finance_Stats,{wallet:wallet}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-11 expand12 expax2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row jcenter pt-9\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 charthome\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 charthome\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebarUpdate1 text-left\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"All Requests \"}),/*#__PURE__*/_jsxs(\"span\",{children:[\" \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"search_on1 searchz form-control\",placeholder:\"search\",onChange:onchange,onKeyPress:function onKeyPress(e){if(e.key==\"Enter\"){search_filter();}},name:\"search\"})]}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\"})})]}),/*#__PURE__*/_jsxs(Table,{className:\"table\",responsive:true,striped:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Transaction id\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Transaction type\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount(\\u20A6)\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:((_wallet=wallet)===null||_wallet===void 0?void 0:(_wallet$data=_wallet.data)===null||_wallet$data===void 0?void 0:_wallet$data.length)!==0&&((_wallet2=wallet)===null||_wallet2===void 0?void 0:(_wallet2$data=_wallet2.data)===null||_wallet2$data===void 0?void 0:_wallet2$data.map(function(item,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{scope:\"row\",className:\"thd\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"slect3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"selectstaff\",id:\"\"})}),\" \",/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsxs(Link,{to:\"/product/details/\".concat(item===null||item===void 0?void 0:item.id),children:[\" \",item===null||item===void 0?void 0:item.name]})]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"span\",{className:\"\",children:[item===null||item===void 0?void 0:item.quantity,item.unit]})}),/*#__PURE__*/_jsx(\"td\",{children:FormatAmount(decimalize(item===null||item===void 0?void 0:item.price))}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"\",children:FormatAmount(decimalize(item===null||item===void 0?void 0:item.sales_price))}),/*#__PURE__*/_jsx(\"span\",{className:\"notif1\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"\",children:item===null||item===void 0?void 0:item.sku}),/*#__PURE__*/_jsx(\"span\",{className:\"notif1\"})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:item===null||item===void 0?void 0:item.created_at})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(TableDropdownProducts,{company_info:item})})]},i);}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cle\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",/*#__PURE__*/_jsx(\"b\",{}),\" \",(_wallet3=wallet)===null||_wallet3===void 0?void 0:_wallet3.current_page,\" of\",\" \",(_wallet4=wallet)===null||_wallet4===void 0?void 0:_wallet4.last_page]}),/*#__PURE__*/_jsxs(Pagination,{children:[/*#__PURE__*/_jsx(Pagination.First,{onClick:function onClick(){var _wallet5;return changepagenumber((_wallet5=wallet)===null||_wallet5===void 0?void 0:_wallet5.first_page_url);}}),/*#__PURE__*/_jsx(Pagination.Prev,{onClick:function onClick(){var _wallet6;return changepagenumber((_wallet6=wallet)===null||_wallet6===void 0?void 0:_wallet6.prev_page_url);}}),/*#__PURE__*/_jsx(Pagination.Next,{onClick:function onClick(){var _wallet7;return changepagenumber((_wallet7=wallet)===null||_wallet7===void 0?void 0:_wallet7.next_page_url);}}),/*#__PURE__*/_jsx(Pagination.Last,{})]})]})]})})})})]})})}),/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,backdrop:\"static\",keyboard:false,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Create wallet\"})}),/*#__PURE__*/_jsx(Modal.Body,{className:\"\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row inputlabel label_pad justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 form_waller\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"rdfrmlbl\",children:[\" \",\"BVN \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"bvn\",value:state.bvn,onChange:onchange,size:60,className:\"form-control forminput\"})]})})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/dashboard\",children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",children:\"Back\"})}),/*#__PURE__*/_jsx(Button,{variant:\"\",className:\"bvnbt\",onClick:submit_wallet,children:state.isloading?\"Processing\":\"Submit\"})]})]})]});};export default AdminFinance;","map":{"version":3,"sources":["/Users/frontenddev/Documents/FC INVENTORY/src/Components/views/Dashboard/AdminDashboard/Admin_Finance.tsx"],"names":["React","useEffect","useState","Button","Modal","Pagination","Table","Link","useDispatch","useSelector","dashboardActions","decimalize","getAdminUtils","TableDropdownProducts","FormatAmount","notify","Finance_Stats","AdminFinance","dispatch","wallet","state","dashboardStats","getDashboardProducts","role_name","getWalletDetails","changepagenumber","x","newarray","split","console","log","search","bvn","isloading","setState","show","setShow","search_filter","onchange","e","target","name","value","handleClose","handleShow","submit_wallet","data","createWallet","setTimeout","undefined","key","length","map","item","i","id","quantity","unit","price","sales_price","sku","created_at","current_page","last_page","first_page_url","prev_page_url","next_page_url"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Modal, Pagination, Table } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./index.css\";\nimport { dashboardActions } from \"../../../../Actions\";\nimport { decimalize, getAdminUtils } from \"../../../Services/helper\";\nimport TableDropdownProducts from \"./Dropdown/TableDropdownProducts\";\nimport { FormatAmount, notify } from \"../../../../config\";\nimport Finance_Stats from \"./DashboardComponents/FInance_Stats\";\n\nconst AdminFinance = () => {\n  const dispatch = useDispatch();\n  let wallet: any = true;\n  wallet = useSelector((state: any) => state.dashboardStats?.wallet);\n\n  useEffect(() => {\n    const getDashboardProducts = async () => {\n      if (getAdminUtils(\"admin_data\")?.[0]?.role_name == \"admin\") {\n        await dispatch(\n          dashboardActions.getWalletDetails(`/admin/get-vfd-account`)\n        );\n      }\n    };\n    getDashboardProducts();\n  }, [dispatch]);\n  const changepagenumber = async (x) => {\n    if (x) {\n      const newarray = x.split(\"/api/v1\");\n      console.log(newarray[1]);\n      await dispatch(dashboardActions.getWalletDetails(newarray[1]));\n    } else {\n      notify(\"page not available\");\n    }\n  };\n\n  const [state, setState] = useState({ search: \"\", bvn: \"\", isloading: false });\n  const [show, setShow] = useState(false);\n  const search_filter = async () => {\n    await dispatch(\n      dashboardActions.getDashboardProducts(\n        `/admin/filter-product?name=${state.search}`\n      )\n    );\n  };\n  const onchange = (e) => {\n    setState({\n      ...state,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const submit_wallet = () => {\n    setState({\n      ...state,\n      isloading: true,\n    });\n    const data = {\n      bvn: state.bvn,\n    };\n    dispatch(dashboardActions.createWallet(data));\n    setTimeout(() => {\n      setState({\n        ...state,\n        isloading: false,\n      });\n    }, 7000);\n  };\n  useEffect(() => {\n    if (wallet) {\n      handleClose()\n    }\n  }, [wallet]);\n\n  useEffect(() => {\n    if (wallet == undefined) {\n      handleShow()\n    }\n  }, [dispatch]);\n  \n  console.log(wallet == undefined);\n  return (\n    <>\n      <div className=\"contaniner-fluid\">\n        <div className=\"row\">\n          {/* <AdminSidebar staff={true} /> */}\n          <div className=\"dashboard_main_area hm-0 pb-0 row\">\n            <Finance_Stats wallet={wallet}/>\n            <div className=\"col-md-11 expand12 expax2\">\n              <div className=\"row jcenter pt-9\">\n                <div className=\"col-md-12 charthome\">\n                  <div className=\"col-md-12 charthome\">\n                    <div className=\"sidebarUpdate1 text-left\">\n                      <span>All Requests </span>\n                      <span>\n                        {\" \"}\n                        <input\n                          type=\"text\"\n                          className=\"search_on1 searchz form-control\"\n                          placeholder=\"search\"\n                          onChange={onchange}\n                          onKeyPress={(e) => {\n                            if (e.key == \"Enter\") {\n                              search_filter();\n                            }\n                          }}\n                          name={\"search\"}\n                        />\n                      </span>\n                      <span>\n                        <div className=\"row\">\n                          {/* <select name=\"filter\" className=\"filter1\" id=\"\">\n                            <option value=\"\">Filter</option>\n                          </select> */}\n                          {/* <Link to={`/admin/products/add`}>\n                            <button className=\"addstaff bluebtn\">\n                              + Add Product\n                            </button>\n                          </Link> */}\n                        </div>\n                      </span>\n                    </div>\n                    <Table className=\"table\" responsive striped>\n                      <thead className=\"\">\n                        <tr>\n                          <th scope=\"col\">Transaction id</th>\n                          <th scope=\"col\">Transaction type</th>\n                          <th scope=\"col\">Description</th>\n                          <th scope=\"col\">Amount(₦)</th>\n                          <th scope=\"col\">Status</th>\n                          <th scope=\"col\">Date</th>\n                          <th scope=\"col\">Actions </th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {wallet?.data?.length !== 0 &&\n                          wallet?.data?.map((item, i) => (\n                            <tr key={i}>\n                              <th scope=\"row\" className=\"thd\">\n                                <span className=\"slect3\">\n                                  <input\n                                    type=\"checkbox\"\n                                    name=\"selectstaff\"\n                                    id=\"\"\n                                  />\n                                </span>{\" \"}\n                                <td>\n                                  {\" \"}\n                                  <Link to={`/product/details/${item?.id}`}>\n                                    {\" \"}\n                                    {item?.name}\n                                  </Link>\n                                </td>\n                              </th>\n                              <td>\n                                <span className=\"\">\n                                  {item?.quantity}\n                                  {item.unit}\n                                </span>\n                              </td>\n                              <td>{FormatAmount(decimalize(item?.price))}</td>\n                              <td>\n                                <span className=\"\">\n                                  {FormatAmount(decimalize(item?.sales_price))}\n                                </span>\n                                <span className=\"notif1\"></span>\n                              </td>\n                              <td>\n                                <span className=\"\">{item?.sku}</span>\n                                <span className=\"notif1\"></span>\n                              </td>\n                              <td>\n                                <span className=\"\">{item?.created_at}</span>\n                              </td>\n                              <td>\n                                <TableDropdownProducts company_info={item} />\n                              </td>\n                            </tr>\n                          ))}\n                      </tbody>\n                    </Table>\n                    <div className=\"cle\">\n                      <span>\n                        Page <b></b> {wallet?.current_page} of{\" \"}\n                        {wallet?.last_page}\n                      </span>\n                      <Pagination>\n                        <Pagination.First\n                          onClick={() =>\n                            changepagenumber(wallet?.first_page_url)\n                          }\n                        />\n                        <Pagination.Prev\n                          onClick={() =>\n                            changepagenumber(wallet?.prev_page_url)\n                          }\n                        />\n                        <Pagination.Next\n                          onClick={() =>\n                            changepagenumber(wallet?.next_page_url)\n                          }\n                        />\n                        <Pagination.Last />\n                      </Pagination>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <Modal\n        show={show}\n        onHide={handleClose}\n        backdrop=\"static\"\n        keyboard={false}\n      >\n        <Modal.Header>\n          <Modal.Title>Create wallet</Modal.Title>\n        </Modal.Header>\n        <Modal.Body className=\"\">\n          <div className=\"row inputlabel label_pad justify-between\">\n            <div className=\"col-md-12 form_waller\">\n              <span className=\"rdfrmlbl\">\n                {\" \"}\n                BVN <span className=\"text-danger\">*</span>\n              </span>\n              <input\n                type=\"text\"\n                name=\"bvn\"\n                value={state.bvn}\n                onChange={onchange}\n                size={60}\n                className=\"form-control forminput\"\n              />\n            </div>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          <Link to=\"/admin/dashboard\">\n            <Button variant=\"secondary\">Back</Button>\n          </Link>\n          <Button variant=\"\" className=\"bvnbt\" onClick={submit_wallet}>\n            {state.isloading ? \"Processing\" : \"Submit\"}\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n};\nexport default AdminFinance;\n"]},"metadata":{},"sourceType":"module"}
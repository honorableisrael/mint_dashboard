{"ast":null,"code":"import _slicedToArray from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{createPopper}from\"@popperjs/core\";import Swal from\"sweetalert2\";import{useDispatch}from\"react-redux\";import{dashboardActions}from\"../../../../../Actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TableDropdownSales=function TableDropdownSales(props){var _props$company_info,_props$company_info2,_props$company_info4,_props$company_info5,_props$company_info7,_props$company_info8,_props$company_info9;// dropdown props\nvar _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),dropdownPopoverShow=_React$useState2[0],setDropdownPopoverShow=_React$useState2[1];var btnDropdownRef=/*#__PURE__*/React.createRef();var popoverDropdownRef=/*#__PURE__*/React.createRef();var openDropdownPopover=function openDropdownPopover(){createPopper(btnDropdownRef.current,popoverDropdownRef.current,{placement:\"left-start\"});setDropdownPopoverShow(true);};var closeDropdownPopover=function closeDropdownPopover(){setDropdownPopoverShow(false);};var dispatch=useDispatch();var deleteSales=function deleteSales(id){closeDropdownPopover();Swal.fire({title:\"Confirm Delete!\",icon:\"warning\",text:\"This action would erase all data associated with this sale and the action cannot be undone, do you want to continue\",showCancelButton:true,confirmButtonColor:\"#d33\",cancelButtonColor:\"#3085d6\",confirmButtonText:\"Yes, delete!\",cancelButtonText:\"No, keep it\",preConfirm:function preConfirm(){return delete_sales(id);}}).then(function(result){if(result.isConfirmed){Swal.fire(\"Deleted!\",\"Sale has been deleted.\",\"success\");}}).catch(function(err){//console.log(err);\nif(err){Swal.fire(\"Failed to delete!\",\"error\");}});};var delete_sales=function delete_sales(id){// deleteOrganisation\ndispatch(dashboardActions.deleteSales(id));};// one_organisation\nvar approveSale=function approveSale(id){dispatch(dashboardActions.approveSale(id));};var rejectSale=function rejectSale(id){dispatch(dashboardActions.rejectSale(id));};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"a\",{className:\"text-blueGray-500 py-1 px-3 colreverse\",ref:btnDropdownRef,onClick:function onClick(e){e.preventDefault();dropdownPopoverShow?closeDropdownPopover():openDropdownPopover();},children:/*#__PURE__*/_jsxs(\"svg\",{width:\"4\",height:\"16\",viewBox:\"0 0 4 16\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsx(\"mask\",{id:\"mask0_50_573\",maskUnits:\"userSpaceOnUse\",x:\"0\",y:\"0\",width:\"4\",height:\"16\",children:/*#__PURE__*/_jsx(\"path\",{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",d:\"M2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM0 14C0 12.9 0.9 12 2 12C3.1 12 4 12.9 4 14C4 15.1 3.1 16 2 16C0.9 16 0 15.1 0 14Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"g\",{mask:\"url(#mask0_50_573)\",children:/*#__PURE__*/_jsx(\"rect\",{x:\"-10\",y:\"-4\",width:\"24\",height:\"24\",fill:\"#9EA0A5\"})})]})}),dropdownPopoverShow&&/*#__PURE__*/_jsx(\"div\",{className:\"reltv\",children:/*#__PURE__*/_jsxs(\"div\",{ref:popoverDropdownRef,className:(dropdownPopoverShow?\"block \":\"hidden \")+\"bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-48 colreverse\",children:[(props===null||props===void 0?void 0:(_props$company_info=props.company_info)===null||_props$company_info===void 0?void 0:_props$company_info.status)!==\"approved\"&&(props===null||props===void 0?void 0:(_props$company_info2=props.company_info)===null||_props$company_info2===void 0?void 0:_props$company_info2.status)!==\"refuted\"&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm py-2 pointer1 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\",onClick:function onClick(){var _props$company_info3;return approveSale(props===null||props===void 0?void 0:(_props$company_info3=props.company_info)===null||_props$company_info3===void 0?void 0:_props$company_info3.id);},children:\"Approve\"}),(props===null||props===void 0?void 0:(_props$company_info4=props.company_info)===null||_props$company_info4===void 0?void 0:_props$company_info4.status)!==\"approved\"&&(props===null||props===void 0?void 0:(_props$company_info5=props.company_info)===null||_props$company_info5===void 0?void 0:_props$company_info5.status)!==\"refuted\"&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm py-2 pointer1 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\",onClick:function onClick(){var _props$company_info6;return rejectSale(props===null||props===void 0?void 0:(_props$company_info6=props.company_info)===null||_props$company_info6===void 0?void 0:_props$company_info6.id);},children:\"Reject\"}),(props===null||props===void 0?void 0:(_props$company_info7=props.company_info)===null||_props$company_info7===void 0?void 0:_props$company_info7.status)==\"approved\"?/*#__PURE__*/_jsx(\"a\",{href:\"/admin/sales/invoice/\".concat(props===null||props===void 0?void 0:(_props$company_info8=props.company_info)===null||_props$company_info8===void 0?void 0:_props$company_info8.id),className:\"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\",children:\"View Invoice\"}):\"\",/*#__PURE__*/_jsx(\"a\",{href:\"/admin/sales/\".concat(props===null||props===void 0?void 0:(_props$company_info9=props.company_info)===null||_props$company_info9===void 0?void 0:_props$company_info9.id),className:\"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\",children:\"Related Products\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm py-2 pointer1 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\",onClick:function onClick(){var _props$company_info10;return deleteSales(props===null||props===void 0?void 0:(_props$company_info10=props.company_info)===null||_props$company_info10===void 0?void 0:_props$company_info10.id);},children:\"Delete\"})]})})]});};export default TableDropdownSales;","map":{"version":3,"sources":["/Users/frontenddev/Documents/FC INVENTORY/src/Components/views/Dashboard/AdminDashboard/Dropdown/TableDropdownSales.tsx"],"names":["React","createPopper","Swal","useDispatch","dashboardActions","TableDropdownSales","props","useState","dropdownPopoverShow","setDropdownPopoverShow","btnDropdownRef","createRef","popoverDropdownRef","openDropdownPopover","current","placement","closeDropdownPopover","dispatch","deleteSales","id","fire","title","icon","text","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","preConfirm","delete_sales","then","result","isConfirmed","catch","err","approveSale","rejectSale","e","preventDefault","company_info","status"],"mappings":"+HAAA,MAAOA,CAAAA,KAAP,KAAiC,OAAjC,CACA,OAASC,YAAT,KAA6B,gBAA7B,CACA,MAAOC,CAAAA,IAAP,KAAiB,aAAjB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,gBAAT,KAAiC,wBAAjC,C,6IAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,uJACpC;AACA,oBACEN,KAAK,CAACO,QAAN,CAAe,KAAf,CADF,oDAAOC,mBAAP,qBAA4BC,sBAA5B,qBAGA,GAAMC,CAAAA,cAAmB,cAAGV,KAAK,CAACW,SAAN,EAA5B,CACA,GAAMC,CAAAA,kBAAuB,cAAGZ,KAAK,CAACW,SAAN,EAAhC,CACA,GAAME,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CAChCZ,YAAY,CAACS,cAAc,CAACI,OAAhB,CAAyBF,kBAAkB,CAACE,OAA5C,CAAqD,CAC/DC,SAAS,CAAE,YADoD,CAArD,CAAZ,CAGAN,sBAAsB,CAAC,IAAD,CAAtB,CACD,CALD,CAMA,GAAMO,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,EAAM,CACjCP,sBAAsB,CAAC,KAAD,CAAtB,CACD,CAFD,CAGA,GAAMQ,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CAEA,GAAMe,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,EAAD,CAAQ,CAC1BH,oBAAoB,GACpBd,IAAI,CAACkB,IAAL,CAAU,CACRC,KAAK,CAAE,iBADC,CAERC,IAAI,CAAE,SAFE,CAGRC,IAAI,CAAE,qHAHE,CAIRC,gBAAgB,CAAE,IAJV,CAKRC,kBAAkB,CAAE,MALZ,CAMRC,iBAAiB,CAAE,SANX,CAORC,iBAAiB,CAAE,cAPX,CAQRC,gBAAgB,CAAE,aARV,CASRC,UAAU,CAAE,4BAAMC,CAAAA,YAAY,CAACX,EAAD,CAAlB,EATJ,CAAV,EAWGY,IAXH,CAWQ,SAACC,MAAD,CAAY,CAChB,GAAIA,MAAM,CAACC,WAAX,CAAwB,CACtB/B,IAAI,CAACkB,IAAL,CAAU,UAAV,CAAsB,wBAAtB,CAAgD,SAAhD,EACD,CACF,CAfH,EAgBGc,KAhBH,CAgBS,SAACC,GAAD,CAAS,CACd;AACA,GAAIA,GAAJ,CAAS,CACPjC,IAAI,CAACkB,IAAL,CAAU,mBAAV,CAA+B,OAA/B,EACD,CACF,CArBH,EAsBD,CAxBD,CAyBA,GAAMU,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACX,EAAD,CAAQ,CAC3B;AACAF,QAAQ,CAACb,gBAAgB,CAACc,WAAjB,CAA6BC,EAA7B,CAAD,CAAR,CACD,CAHD,CAIA;AACA,GAAMiB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACjB,EAAD,CAAQ,CAC1BF,QAAQ,CAACb,gBAAgB,CAACgC,WAAjB,CAA6BjB,EAA7B,CAAD,CAAR,CACD,CAFD,CAGA,GAAMkB,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAClB,EAAD,CAAQ,CACzBF,QAAQ,CAACb,gBAAgB,CAACiC,UAAjB,CAA4BlB,EAA5B,CAAD,CAAR,CACD,CAFD,CAIA,mBACE,wCACE,UACE,SAAS,CAAC,wCADZ,CAEE,GAAG,CAAET,cAFP,CAGE,OAAO,CAAE,iBAAC4B,CAAD,CAAO,CACdA,CAAC,CAACC,cAAF,GACA/B,mBAAmB,CAAGQ,oBAAoB,EAAvB,CAA4BH,mBAAmB,EAAlE,CACD,CANH,uBAOE,aACE,KAAK,CAAC,GADR,CAEE,MAAM,CAAC,IAFT,CAGE,OAAO,CAAC,UAHV,CAIE,IAAI,CAAC,MAJP,CAKE,KAAK,CAAC,4BALR,wBAME,aACE,EAAE,CAAC,cADL,CAEE,SAAS,CAAC,gBAFZ,CAGE,CAAC,CAAC,GAHJ,CAIE,CAAC,CAAC,GAJJ,CAKE,KAAK,CAAC,GALR,CAME,MAAM,CAAC,IANT,uBAOE,aACE,YAAU,SADZ,CAEE,YAAU,SAFZ,CAGE,CAAC,CAAC,iOAHJ,CAIE,IAAI,CAAC,OAJP,EAPF,EANF,cAoBE,UAAG,IAAI,CAAC,oBAAR,uBACE,aAAM,CAAC,CAAC,KAAR,CAAc,CAAC,CAAC,IAAhB,CAAqB,KAAK,CAAC,IAA3B,CAAgC,MAAM,CAAC,IAAvC,CAA4C,IAAI,CAAC,SAAjD,EADF,EApBF,GAPF,EADF,CAiCGL,mBAAmB,eAClB,YAAK,SAAS,CAAC,OAAf,uBACE,aACE,GAAG,CAAEI,kBADP,CAEE,SAAS,CACP,CAACJ,mBAAmB,CAAG,QAAH,CAAc,SAAlC,EACA,mGAJJ,WAMG,CAAAF,KAAK,OAAL,EAAAA,KAAK,SAAL,6BAAAA,KAAK,CAAEkC,YAAP,kEAAqBC,MAArB,IAAgC,UAAhC,EAA8C,CAAAnC,KAAK,OAAL,EAAAA,KAAK,SAAL,8BAAAA,KAAK,CAAEkC,YAAP,oEAAqBC,MAArB,IAAgC,SAA9E,eACC,aACE,SAAS,CACP,wGAFJ,CAIE,OAAO,CAAE,kDAAML,CAAAA,WAAW,CAAC9B,KAAD,SAACA,KAAD,uCAACA,KAAK,CAAEkC,YAAR,+CAAC,qBAAqBrB,EAAtB,CAAjB,EAJX,qBAPJ,CAeG,CAAAb,KAAK,OAAL,EAAAA,KAAK,SAAL,8BAAAA,KAAK,CAAEkC,YAAP,oEAAqBC,MAArB,IAAgC,UAAhC,EAA8C,CAAAnC,KAAK,OAAL,EAAAA,KAAK,SAAL,8BAAAA,KAAK,CAAEkC,YAAP,oEAAqBC,MAArB,IAAgC,SAA9E,eACC,aACE,SAAS,CACP,wGAFJ,CAIE,OAAO,CAAE,kDAAMJ,CAAAA,UAAU,CAAC/B,KAAD,SAACA,KAAD,uCAACA,KAAK,CAAEkC,YAAR,+CAAC,qBAAqBrB,EAAtB,CAAhB,EAJX,oBAhBJ,CAwBG,CAAAb,KAAK,OAAL,EAAAA,KAAK,SAAL,8BAAAA,KAAK,CAAEkC,YAAP,oEAAqBC,MAArB,GAA+B,UAA/B,cACC,UACE,IAAI,gCAA0BnC,KAA1B,SAA0BA,KAA1B,uCAA0BA,KAAK,CAAEkC,YAAjC,+CAA0B,qBAAqBrB,EAA/C,CADN,CAEE,SAAS,CACP,+FAHJ,0BADD,CASC,EAjCJ,cAmCE,UACE,IAAI,wBAAkBb,KAAlB,SAAkBA,KAAlB,uCAAkBA,KAAK,CAAEkC,YAAzB,+CAAkB,qBAAqBrB,EAAvC,CADN,CAEE,SAAS,CACP,+FAHJ,8BAnCF,cA0CE,aACE,SAAS,CACP,wGAFJ,CAIE,OAAO,CAAE,mDAAMD,CAAAA,WAAW,CAACZ,KAAD,SAACA,KAAD,wCAACA,KAAK,CAAEkC,YAAR,gDAAC,sBAAqBrB,EAAtB,CAAjB,EAJX,oBA1CF,GADF,EAlCJ,GADF,CA0FD,CAjJD,CAmJA,cAAed,CAAAA,kBAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { createPopper } from \"@popperjs/core\";\nimport Swal from \"sweetalert2\";\nimport { useDispatch } from \"react-redux\";\nimport { dashboardActions } from \"../../../../../Actions\";\n\nconst TableDropdownSales = (props) => {\n  // dropdown props\n  const [dropdownPopoverShow, setDropdownPopoverShow]: any =\n    React.useState(false);\n\n  const btnDropdownRef: any = React.createRef();\n  const popoverDropdownRef: any = React.createRef();\n  const openDropdownPopover = () => {\n    createPopper(btnDropdownRef.current, popoverDropdownRef.current, {\n      placement: \"left-start\",\n    });\n    setDropdownPopoverShow(true);\n  };\n  const closeDropdownPopover = () => {\n    setDropdownPopoverShow(false);\n  };\n  const dispatch = useDispatch();\n\n  const deleteSales = (id) => {\n    closeDropdownPopover();\n    Swal.fire({\n      title: \"Confirm Delete!\",\n      icon: \"warning\",\n      text: \"This action would erase all data associated with this sale and the action cannot be undone, do you want to continue\",\n      showCancelButton: true,\n      confirmButtonColor: \"#d33\",\n      cancelButtonColor: \"#3085d6\",\n      confirmButtonText: \"Yes, delete!\",\n      cancelButtonText: \"No, keep it\",\n      preConfirm: () => delete_sales(id),\n    })\n      .then((result) => {\n        if (result.isConfirmed) {\n          Swal.fire(\"Deleted!\", \"Sale has been deleted.\", \"success\");\n        }\n      })\n      .catch((err) => {\n        //console.log(err);\n        if (err) {\n          Swal.fire(\"Failed to delete!\", \"error\");\n        }\n      });\n  };\n  const delete_sales = (id) => {\n    // deleteOrganisation\n    dispatch(dashboardActions.deleteSales(id));\n  };\n  // one_organisation\n  const approveSale = (id) => {\n    dispatch(dashboardActions.approveSale(id));\n  };\n  const rejectSale = (id) => {\n    dispatch(dashboardActions.rejectSale(id));\n  };\n\n  return (\n    <>\n      <a\n        className='text-blueGray-500 py-1 px-3 colreverse'\n        ref={btnDropdownRef}\n        onClick={(e) => {\n          e.preventDefault();\n          dropdownPopoverShow ? closeDropdownPopover() : openDropdownPopover();\n        }}>\n        <svg\n          width='4'\n          height='16'\n          viewBox='0 0 4 16'\n          fill='none'\n          xmlns='http://www.w3.org/2000/svg'>\n          <mask\n            id='mask0_50_573'\n            maskUnits='userSpaceOnUse'\n            x='0'\n            y='0'\n            width='4'\n            height='16'>\n            <path\n              fill-rule='evenodd'\n              clip-rule='evenodd'\n              d='M2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM0 14C0 12.9 0.9 12 2 12C3.1 12 4 12.9 4 14C4 15.1 3.1 16 2 16C0.9 16 0 15.1 0 14Z'\n              fill='white'\n            />\n          </mask>\n          <g mask='url(#mask0_50_573)'>\n            <rect x='-10' y='-4' width='24' height='24' fill='#9EA0A5' />\n          </g>\n        </svg>\n      </a>\n      {dropdownPopoverShow && (\n        <div className='reltv'>\n          <div\n            ref={popoverDropdownRef}\n            className={\n              (dropdownPopoverShow ? \"block \" : \"hidden \") +\n              \"bg-white text-base z-50 float-left py-2 list-none text-left rounded shadow-lg min-w-48 colreverse\"\n            }>\n            {props?.company_info?.status !== \"approved\" && props?.company_info?.status !== \"refuted\" && (\n              <span\n                className={\n                  \"text-sm py-2 pointer1 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\n                }\n                onClick={() => approveSale(props?.company_info?.id)}>\n                Approve\n              </span>\n            )}\n            {props?.company_info?.status !== \"approved\" && props?.company_info?.status !== \"refuted\" && (\n              <span\n                className={\n                  \"text-sm py-2 pointer1 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\n                }\n                onClick={() => rejectSale(props?.company_info?.id)}>\n                Reject\n              </span>\n            )}\n            {props?.company_info?.status == \"approved\" ? (\n              <a\n                href={`/admin/sales/invoice/${props?.company_info?.id}`}\n                className={\n                  \"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\n                }>\n                View Invoice\n              </a>\n            ) : (\n              \"\"\n            )}\n            <a\n              href={`/admin/sales/${props?.company_info?.id}`}\n              className={\n                \"text-sm py-2 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\n              }>\n              Related Products\n            </a>\n            <span\n              className={\n                \"text-sm py-2 pointer1 px-4 font-normal block w-full whitespace-nowrap bg-transparent text-blueGray-700\"\n              }\n              onClick={() => deleteSales(props?.company_info?.id)}>\n              Delete\n            </span>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default TableDropdownSales;\n"]},"metadata":{},"sourceType":"module"}
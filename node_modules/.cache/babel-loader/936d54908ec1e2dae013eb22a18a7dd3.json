{"ast":null,"code":"import _asyncToGenerator from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _objectSpread from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/frontenddev/Documents/FC INVENTORY/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import{Pagination,Table}from\"react-bootstrap\";import{useDispatch,useSelector}from\"react-redux\";import{Link}from\"react-router-dom\";import{dashboardActions}from\"../../../../Actions\";import Staff_Stats_cards from\"./DashboardComponents/Staff_Stats_cards\";import\"./index.css\";import{notify}from\"../../../../config\";import TableDropdownLoanApproval from\"./Dropdown/TableDropdownLoanApproval\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Super_Admin_Loan_Approval=function Super_Admin_Loan_Approval(props){var _all_loan_request,_all_loan_request$dat,_all_loan_request2,_all_loan_request2$da,_all_loan_request3,_all_loan_request4;var _useState=useState({filterby:\"\"}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var dispatch=useDispatch();var all_loan_request;all_loan_request=useSelector(function(state){var _state$dashboardStats,_state$dashboardStats2;return(_state$dashboardStats=state.dashboardStats)===null||_state$dashboardStats===void 0?void 0:(_state$dashboardStats2=_state$dashboardStats.all_loan_request)===null||_state$dashboardStats2===void 0?void 0:_state$dashboardStats2.data;});var getLoanRequest=function getLoanRequest(){dispatch(dashboardActions===null||dashboardActions===void 0?void 0:dashboardActions.getAllLoanRequest(\"/super_admin/get-all-loan-request\"));};useEffect(function(){setState(_objectSpread(_objectSpread(_objectSpread({},state),all_loan_request),{},{loans:true,funds:false}));},[all_loan_request]);useEffect(function(){getLoanRequest();},[dispatch]);var changepagenumber=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(x){var newarray;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!x){_context.next=6;break;}newarray=x.split(\"/api/v1\");//console.log(newarray[1]);\n_context.next=4;return dispatch(dashboardActions.getAwaitingApproval(newarray[1]));case 4:_context.next=7;break;case 6:notify(\"page not available\");case 7:case\"end\":return _context.stop();}}},_callee);}));return function changepagenumber(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"contaniner-fluid\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard_main_area pb-0 row\",children:[/*#__PURE__*/_jsx(Staff_Stats_cards,{}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-11 expand12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row jcenter pt-9\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 charthome\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebarUpdate1 text-left\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Loan Requests \"})}),/*#__PURE__*/_jsxs(Table,{className:\"table\",responsive:true,striped:true,children:[/*#__PURE__*/_jsx(\"thead\",{className:\"\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Loan name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Amount (\\u20A6)\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Duration(Months)\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Reason\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"End Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Actions \"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:((_all_loan_request=all_loan_request)===null||_all_loan_request===void 0?void 0:(_all_loan_request$dat=_all_loan_request.data)===null||_all_loan_request$dat===void 0?void 0:_all_loan_request$dat.length)!==0&&((_all_loan_request2=all_loan_request)===null||_all_loan_request2===void 0?void 0:(_all_loan_request2$da=_all_loan_request2.data)===null||_all_loan_request2$da===void 0?void 0:_all_loan_request2$da.map(function(item,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",className:\"thd\",children:/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsxs(Link,{to:\"/product/details/\".concat(item===null||item===void 0?void 0:item.id),children:[\" \",item===null||item===void 0?void 0:item.loan_name]})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:item===null||item===void 0?void 0:item.amount})}),/*#__PURE__*/_jsx(\"td\",{children:item===null||item===void 0?void 0:item.duration}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"\",children:item.reason}),/*#__PURE__*/_jsx(\"span\",{className:\"notif1\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"\",children:item===null||item===void 0?void 0:item.start_date}),/*#__PURE__*/_jsx(\"span\",{className:\"notif1\"})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:item===null||item===void 0?void 0:item.end_date})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:item===null||item===void 0?void 0:item.status})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(TableDropdownLoanApproval,{company_info:item})})]},i);}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cle\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Page \",/*#__PURE__*/_jsx(\"b\",{}),\" \",(_all_loan_request3=all_loan_request)===null||_all_loan_request3===void 0?void 0:_all_loan_request3.current_page,\" of\",\" \",(_all_loan_request4=all_loan_request)===null||_all_loan_request4===void 0?void 0:_all_loan_request4.last_page]}),/*#__PURE__*/_jsxs(Pagination,{children:[/*#__PURE__*/_jsx(Pagination.First,{onClick:function onClick(){var _all_loan_request5;return changepagenumber((_all_loan_request5=all_loan_request)===null||_all_loan_request5===void 0?void 0:_all_loan_request5.first_page_url);}}),/*#__PURE__*/_jsx(Pagination.Prev,{onClick:function onClick(){var _all_loan_request6;return changepagenumber((_all_loan_request6=all_loan_request)===null||_all_loan_request6===void 0?void 0:_all_loan_request6.prev_page_url);}}),/*#__PURE__*/_jsx(Pagination.Next,{onClick:function onClick(){var _all_loan_request7;return changepagenumber((_all_loan_request7=all_loan_request)===null||_all_loan_request7===void 0?void 0:_all_loan_request7.next_page_url);}}),/*#__PURE__*/_jsx(Pagination.Last,{})]})]})]})})})]})})})});};export default Super_Admin_Loan_Approval;","map":{"version":3,"sources":["/Users/frontenddev/Documents/FC INVENTORY/src/Components/views/Dashboard/AdminDashboard/Super_Admin_Loan_Approval.tsx"],"names":["React","useEffect","useState","Pagination","Table","useDispatch","useSelector","Link","dashboardActions","Staff_Stats_cards","notify","TableDropdownLoanApproval","Super_Admin_Loan_Approval","props","filterby","state","setState","dispatch","all_loan_request","dashboardStats","data","getLoanRequest","getAllLoanRequest","loans","funds","changepagenumber","x","newarray","split","getAwaitingApproval","length","map","item","i","id","loan_name","amount","duration","reason","start_date","end_date","status","current_page","last_page","first_page_url","prev_page_url","next_page_url"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Pagination, Table } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { dashboardActions } from \"../../../../Actions\";\nimport { formatTime } from \"../../../helpers/reusables\";\nimport Staff_Stats_cards from \"./DashboardComponents/Staff_Stats_cards\";\nimport \"./index.css\";\nimport { getAdminUtils } from \"../../../Services/helper\";\nimport { FormatAmount, notify } from \"../../../../config\";\nimport TableDropdownLoanApproval from \"./Dropdown/TableDropdownLoanApproval\";\n\nconst Super_Admin_Loan_Approval = (props) => {\n  const [state, setState] = useState({ filterby: \"\" });\n  const dispatch = useDispatch();\n  let all_loan_request;\n  all_loan_request = useSelector(\n    (state: any) => state.dashboardStats?.all_loan_request?.data\n  );\n  const getLoanRequest = () => {\n    dispatch(\n      dashboardActions?.getAllLoanRequest(`/super_admin/get-all-loan-request`)\n    );\n  };\n  useEffect(() => {\n    setState({\n      ...state,\n      ...all_loan_request,\n      loans: true,\n      funds: false,\n    });\n  }, [all_loan_request]);\n  useEffect(() => {\n    getLoanRequest();\n  }, [dispatch]);\n\n  const changepagenumber = async (x) => {\n    if (x) {\n      const newarray = x.split(\"/api/v1\");\n      //console.log(newarray[1]);\n      await dispatch(dashboardActions.getAwaitingApproval(newarray[1]));\n    } else {\n      notify(\"page not available\");\n    }\n  };\n  return (\n    <>\n      <div className='contaniner-fluid'>\n        <div className='row'>\n          {/* <AdminSidebar staff={true} /> */}\n          <div className='dashboard_main_area pb-0 row'>\n            <Staff_Stats_cards />\n            <div className='col-md-11 expand12'>\n              <div className='row jcenter pt-9'>\n                <div className='col-md-12 charthome'>\n                  <div className='sidebarUpdate1 text-left'>\n                    <span>Loan Requests </span>\n                  </div>\n                  <Table className='table' responsive striped>\n                    <thead className=''>\n                      <tr>\n                        <th scope='col'>Loan name</th>\n                        <th scope='col'>Amount (â‚¦)</th>\n                        <th scope='col'>Duration(Months)</th>\n                        <th scope='col'>Reason</th>\n                        <th scope='col'>Start Date</th>\n                        <th scope='col'>End Date</th>\n                        <th scope='col'>Status</th>\n                        <th scope='col'>Actions </th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {all_loan_request?.data?.length !== 0 &&\n                        all_loan_request?.data?.map((item, i) => (\n                          <tr key={i}>\n                            <th scope='row' className='thd'>\n                              <td>\n                                {\" \"}\n                                <Link to={`/product/details/${item?.id}`}>\n                                  {\" \"}\n                                  {item?.loan_name}\n                                </Link>\n                              </td>\n                            </th>\n                            <td>\n                              <span className=''>{item?.amount}</span>\n                            </td>\n                            <td>{item?.duration}</td>\n                            <td>\n                              <span className=''>{item.reason}</span>\n                              <span className='notif1'></span>\n                            </td>\n                            <td>\n                              <span className=''>{item?.start_date}</span>\n                              <span className='notif1'></span>\n                            </td>\n                            <td>\n                              <span className=''>{item?.end_date}</span>\n                            </td>\n                            <td>\n                              <span className=''>{item?.status}</span>\n                            </td>\n                            <td>\n                              <TableDropdownLoanApproval company_info={item} />\n                            </td>\n                          </tr>\n                        ))}\n                    </tbody>\n                  </Table>\n                  <div className='cle'>\n                    <span>\n                      Page <b></b> {all_loan_request?.current_page} of{\" \"}\n                      {all_loan_request?.last_page}\n                    </span>\n                    <Pagination>\n                      <Pagination.First\n                        onClick={() =>\n                          changepagenumber(all_loan_request?.first_page_url)\n                        }\n                      />\n                      <Pagination.Prev\n                        onClick={() =>\n                          changepagenumber(all_loan_request?.prev_page_url)\n                        }\n                      />\n                      <Pagination.Next\n                        onClick={() =>\n                          changepagenumber(all_loan_request?.next_page_url)\n                        }\n                      />\n                      <Pagination.Last />\n                    </Pagination>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default Super_Admin_Loan_Approval;\n"]},"metadata":{},"sourceType":"module"}